{% extends "base.html" %}

{% block content %}
<h1>{{ title }}</h1>
<form action="" method="post">
    {{ form.hidden_tag() }}
    <div class="form-group">
        {{ form.video_url.label }}
        {{ form.video_url(class_="form-control") }}
        {% for error in form.video_url.errors %}
            <span style="color: red;">{{ error }}</span>
        {% endfor %}
    </div>

    <!-- video embed -->
    {% if form.video_url.data != "" %}
        <video id="video_preview" autoplay muted loop controls playsinline preload="auto"><source src="{{ form.video_url.data }}" type="video/mp4"></video>
    {% endif %}

    <!-- date of video (if there is one) -->
    {% if video_date != None %}
        <strong><p class="timestamp" value="{{ video_date }}"></p></strong>
    {% endif %}

    <div class="form-group">
        {{ form.video_title.label }}
        {{ form.video_title(class_="form-control") }}
        {% for error in form.video_title.errors %}
            <span style="color: red;">{{ error }}</span>
        {% endfor %}
    </div>
    <div class="form-group">
        {{ form.parent_events.label }} - 
        <!-- make new event if doesn't exist -->
        <a href="{{ url_for('event_submission', next_url=request.url) }}">Create New Event</a>

        {{ form.parent_events(class_="form-control", size=8) }}
    </div>

    {% if queue != None %}
        <div class="row">
            <div class="form-group col-sm-6">
                <input id="submit" name="submit" type="submit" value="Submit" class="btn btn-primary btn-lg btn-block">
            </div>
  <!--           <div class="form-group col-sm-4">
                <input name="cancel" type="submit" value="Cancel" class="btn btn-light btn-lg btn-block">
            </div> -->
            <div class="form-group col-sm-6">
                <a class="btn btn-light btn-lg btn-block" href="{{ url_for('video_submission_next', queue=queue) }}" role="button">Cancel</a>
            </div>
        </div>
    {% else %}
        <input id="submit" name="submit" type="submit" value="Submit" class="btn btn-primary btn-lg btn-block">
    {% endif %}
</form>

{% endblock %}