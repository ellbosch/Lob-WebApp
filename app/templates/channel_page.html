{% extends "base.html" %}

{% block content %}
<h1>{{ title }}</h1>


<!-- show subcategories -->
{% if subcategories|length > 0 %}
	<p>
		Subcategories:
		{% for cat in subcategories %}
			<!-- append a comma if the list is still iterating -->
			{% if loop.index != subcategories|length %}
				<a href="{{ url_for('category_page', page_title=cat) }}">{{ cat }}</a>,
			{% else %}
				<a href="{{ url_for('category_page', page_title=cat) }}">{{ cat }}</a>
			{% endif %}
		{% endfor %}
	</p>
{% endif %}

<!-- show events -->
{% if events|length > 0 %}
	<h2>Events</h2>
	<p>
		{% for event in events %}
			<p><a href="{{ url_for('event_page', page_title=event) }}">{{ event }}</a></p>
		{% endfor %}
	</p>
	<p><strong><a href="{{ url_for('channel_page_events', page_title=title) }}">View all events.</a></strong></p>
{% endif %}

<!-- show videos -->
{% if videos|length > 0 %}
	<h2>Videos</h2>
	<div class="row">
	{% for link in videos %}
		<div class="card card_video border-light">
			<video class="card-img-top" loop controls playsinline preload="auto"><source src="{{ link.url }}" type="video/mp4"></video>
			<div class="card-body">
				<h5 class="card-title">{{ link.text }}</h5>
				<small class="text-muted"><a href="{{ url_for('event_page', page_title=link.title) }}">{{ link.title }}</a></small>
			</div>
		</div>
	{% endfor %}
	</div>
{% endif %}

<!-- show parent categories -->
{% if parent_categories|length > 0 %}
	<p>
		Categories:
		{% for cat in parent_categories %}
			<!-- append a comma if the list is still iterating -->
			{% if loop.index != parent_categories|length %}
				<a href="{{ url_for('category_page', page_title=cat) }}">{{ cat }}</a>,
			{% else %}
				<a href="{{ url_for('category_page', page_title=cat) }}">{{ cat }}</a>
			{% endif %}
		{% endfor %}
	</p>
{% endif %}

{% endblock %}